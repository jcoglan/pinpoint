JS.Observable=new JS.Module({addObserver:function(b,a){(this.__observers__=this.__observers__||[]).push({bk:b,cx:a||null})},removeObserver:function(b,a){this.__observers__=this.__observers__||[];a=a||null;var c=this.countObservers();while(c--){if(this.__observers__[c].bk===b&&this.__observers__[c].cx===a){this.__observers__.splice(c,1);return}}},removeObservers:function(){this.__observers__=[]},countObservers:function(){return(this.__observers__=this.__observers__||[]).length},notifyObservers:function(){if(!this.isChanged())return;var b=this.countObservers(),a;while(b--){a=this.__observers__[b];a.bk.apply(a.cx,arguments)}},setChanged:function(b){this.__changed__=!(b===false)},isChanged:function(){if(this.__changed__===undefined)this.__changed__=true;return!!this.__changed__}});JS.Observable.include({subscribe:JS.Observable.instanceMethod('addObserver'),unsubscribe:JS.Observable.instanceMethod('removeObserver')});